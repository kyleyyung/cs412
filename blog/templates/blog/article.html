<!--blog/templates/blog/show_all.html -->

{% extends 'blog/base.html' %}

{% block content %}

<h1>{{article.title}}</h1>

<!-- print out the context variable called articles -->
<!-- {{articles}} -->

<main class="grid-container">
    <article>
        <h2>{{article.title}}</h2>
        <h3>by {{article.author}} at {{article.published}}</h3>

        <img src="{{article.image_url}}" alt="{{article.image_url}}">
        <p>
            {{article.text}}
        </p>
        <h4><a href="{% url 'create_comment' article.pk %}">
        </h4>
    </article>

    <!--display the comments-->
    <div>
        <h2>Comments</h2>
        <!--call the Article's get_comments() method-->
        {% if article.get_comments %}
            {% for c in article.get_comments %}
            <div>
                <strong>by {{ c.author }} and {{ c.published }}</strong>
                <p>{{ c.text }}</p>
            </div>
            {% endfor %}
        {% else %}
        <div>
            <p>No Comments.</p>
        </div>
        {% endif %}
    </div>
</main>

{% endblock %}
